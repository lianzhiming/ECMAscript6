<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    /*1、let命令*/
    //let声明的变量只在它所在的代码块有效。
    {
        let a=10;
        var b=1;
    }
//    console.log(a)//报错
    console.log(b)
//    for循环的计数器，就很合适使用let命令。
    for(let i=0;i<10;i++){}
//    console.log(i); //ReferenceError: i is not defined

    var a=[];
    for(var i=0;i<10;i++){
        a[i]=function(){
            console.log(i)
        }
    }
    a[6]();

    var a=[];
    for(let i=0;i<10;i++){
        a[i]=function(){
            console.log(i)
        }
    }
    a[6]();

//    另外，for循环还有一个特别之处，就是循环语句部分是一个父作用域，而循环体内部是一个单独的子作用域。
    for(let i=0;i<3;i++){
        let i='abc';
        console.log(i)
    }
//    上面代码输出了3次abc，这表明函数内部的变量i和外部的变量i是分离的。

//    不存在变量提升
//    let命令改变了语法行为，它所声明的变量一定要在声明后使用，否则报错。
    console.log(foo);
    var foo=2;

//    console.log(bar);
//    let bar=2;

//    var tmp =123;
//    if(true){
//        tmp='abc';//ReferenceError: tmp is not defined
//        let tmp;
//    }

    //有些“死区”比较隐蔽，不太容易发现。
//    function bar(x=y,y=2){//ReferenceError: y is not defined
//        return [x,y];
//    }
//    bar();

    function zzz(x = 2, y = x) {//不报错
        console.log([x,y])
    }
    zzz(3,4);

    //let不允许在相同作用域内，重复声明同一个变量。
    // 报错
    function vvv() {
        let a = 10;
        var a = 1;
    }

    // 报错
    function vvv() {
        let a = 10;
        let a = 1;
    }

    function func(arg) {
        let arg; // 报错
    }

    function func(arg) {
        {
            let arg; // 不报错
        }
    }
</script>
</body>
</html>